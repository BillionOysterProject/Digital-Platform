<div class="jumbotron text-center">
  <section class="content">
    <section class="container">
      <h2>Expeditions</h2>
      <a class="btn btn-primary" ui-sref="expeditions.create">Create an expedition</a>
    </section>
  </section>
</div>
<section class="content">
  <section class="container">
    <table class="table table-hover">
      <thead>
        <tr>
          <th></th>
          <th>Expedition</th>
          <th>Date</th>
          <th>Location</th>
          <th ng-show="vm.isTeamMember">Assignment</th>
          <th class="text-right">Status</th>
        </tr>
      </thead>
      <tbody>
        <tr class="text-muted" ng-repeat="expedition in vm.expeditions"
          ui-sref="{{vm.expeditionLink(expedition)}}">
          <td ng-show="vm.isUpcoming(expedition)"><i class="glyphicon glyphicon-unchecked"></i></td>
          <td ng-show="((vm.checkStatusIncomplete(expedition) || vm.checkStatusReturned(expedition)) && vm.isTeamMember) ||
          ((expedition.status === 'incomplete' || expedition.status === 'returned') && vm.isTeamLead)">
            <i class="glyphicon glyphicon-unchecked red"></i>
          </td>
          <td ng-show="vm.checkStatusPending(expedition) && vm.isTeamMember">
            <i class="glyphicon glyphicon-check red"></i>
          </td>
          <td ng-show="expedition.status === 'pending' && vm.isTeamLead">
            <i class="glyphicon glyphicon-unchecked red"></i>
          </td>
          <td ng-show="expedition.status === 'published'"><i class="glyphicon glyphicon-check green"></i></td>
          <td><h4>{{expedition.name}}</h4><br/><p class="text-muted">{{expedition.team.name}}</p></td>
          <td><b>{{vm.getExpeditionDate(expedition)}}</b><br/>{{vm.getExpeditionTimeRange(expedition)}}</td>
          <td><i class="glyphicon glyphicon-map-marker"></i> {{expedition.station.name}}</td>
          <td ng-show="vm.isTeamMember">{{vm.displayAssignedProtocols(expedition)}}</td>
          <td class="text-right" ng-show="vm.isUpcoming(expedition)">
            <span class="label label-default">Coming up</span>
          </td>
          <td class="text-right" ng-show="((vm.checkStatusIncomplete(expedition) || vm.checkStatusReturned(expedition)) && vm.isTeamMember) ||
          ((expedition.status === 'incomplete' || expedition.status === 'returned') && vm.isTeamLead)">
            <span class="label label-danger">Incomplete</span>
          </td>
          <td class="text-right" ng-show="vm.checkStatusPending(expedition) && vm.isTeamMember">
            <span class="label label-danger">Pending</span>
          </td>
          <td class="text-right" ng-show="expedition.status === 'pending' && vm.isTeamLead">
            <span class="label label-danger">Submitted</span>
          </td>
          <td class="text-right" ng-show="expedition.status === 'published'">
            <span class="label label-success">Published</span>
          </td>
        </tr>
      </tbody>
    </table>


        <!-- <div class="list-group">
            <a ng-repeat="expedition in vm.expeditions" ui-sref="expeditions.view({ expeditionId: expedition._id })" class="list-group-item">
              <small class="list-group-item-text">
                Posted on
                <span ng-bind="expedition.created | date:'mediumDate'"></span>
                by
                <span ng-if="expedition.user" ng-bind="expedition.user.displayName"></span>
                <span ng-if="!expedition.user">Deleted User</span>
              </small>
              <h4 class="list-group-item-heading" ng-bind="expedition.title"></h4>
              <p class="list-group-item-text" ng-bind="expedition.content"></p>
            </a>
        </div> -->
    </section>
</section>
