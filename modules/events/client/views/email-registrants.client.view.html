<div class="modal fade" id="modal-email-registrants">
    <div class="modal-dialog" role="document">
        <div class="modal-content" ng-hide="sent">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Send an email to all
                  <b class="red">{{(attendeesOnly === "true") ? attendees.length : event.registrants.length}}</b>
                  {{(attendeesOnly === "true") ? 'attendees' : 'registrants'}}</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12" ng-show="attendees.length > 0">
                        <div class="form-group">
                            <label class="control-label">Recipients</label>
                            <select class="form-control" ng-model="attendeesOnly">
                                <option value="false">Send to all registrants</option>
                                <option value="true">Send to only those who attended</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label class="control-label">Subject</label>
                            <input type="text" class="form-control" ng-model="subject" required/>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label class="control-label">Message body</label>
                            <textarea class="form-control" rows="4" ng-model="message"></textarea>
                        </div>
                    </div>
                    <!--TIFF: only show below col-sm-12 if event is NOT past -->
                    <div class="col-sm-12" ng-hide="past || attendees.length > 0">
                        <div class="form-group">
                            <input type="checkbox" ng-model="footer"/>
                            <label class="control-label">Include text at end:</label>
                            <blockquote>
                                <p>You are currently registered for the <b class="red">{{event.title}}</b> on
                                  <b class="red">{{dateTimeString}}</b>. No longer able to attend?
                                  <a href="#">Unregister here</a> to give your spot to somebody else.</p>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-click="sendEmail()">Send</button>
            </div>
        </div>
        <div class="modal-content" ng-show="sent">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Your message has been sent!</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
