<form name="st.form.settlementTilesForm" ng-submit="st.save(st.form.settlementTilesForm.$valid)" novalidate>
  <section>
    <section class="content">
        <section class="container">
            <h2>Protocol 4 <small>Settlement Tiles</small></h2>
            <hr />
            <div class="row">
                <div class="col-md-6">
                    <p class="lead red">Your group is responsible for recording the sessile organisms growing on each of the four settlement tiles.</p>
                </div>
                <div class="col-md-6">
                    <p>Use the 25-point grid system to locate and ID one organism at the center of each of the 25 cross-hatches (use the overlay diagram). This will result in a total of 25 organism ID entries.</p>
                    <p>When photographing the front surface of the tile, make sure the tile # is visible in the frame of the picture. If need be, clean the surface of the tile just around the # marker.</p>
                </div>
            </div>
        </section>
    </section>
    <section class="content shaded">
        <section class="container">
            <div class="row">
                <div class="col-md-3 col-sm-6" ng-repeat="tile in st.protocolSettleTiles.settlementTiles">
                    <!--TODO: If data is already added, show this icon instead <i class="glyphicon glyphicon-check"></i> -->
                    <h4><i class="glyphicon glyphicon-unchecked red"></i> Settlement Tile {{$index+1}}</h4>
                    <!-- <h4><i class="glyphicon glyphicon-check"></i> Settlement Tile {{$index+1}}</h4> -->
                    <div class="form-group">
                        <label>General tile description (condition, damage, sedimentation)</label>
                        <textarea rows="5" class="form-control"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Tile photograph</label>
                        <single-image-drop-zone uploader="st.settlementTilePhotoUploaders[$index]"
                        image-url="tile.tilePhoto.path" image-alt="Settlement Tile #{{$index+1}} Photo"></single-image-drop-zone>
                    </div>
                    <!-- TODO: Each opens its own modal-->
                    <a class="btn btn-default btn-sm btn-block" data-target="#modal-settlementtile{{$index}}" ng-click="st.openSettlementTileForm($index)">Add Organism ID Entries</a>
                    <form-settlement-tile settlement-tile="tile" save-function="st.saveSettlementTileForm" cancel-function="st.cancelSettlementTileForm" index="{{$index}}"></form-settlement-tile>
                    <!--TODO: Show this button instead if data is already added:
                    <a class="btn btn-default btn-sm btn-block" data-toggle="modal" data-target="#modal-settlementtile">Edit Organism ID Entries</a>-->
                </div>
            </div>
        </section>
    </section>
    <section class="content">
        <section class="container">
            <button type="submit" class="btn btn-primary">Next</button>
            <div ng-show="st.error" class="text-danger">
                <strong ng-bind="st.error"></strong>
            </div>
        </section>
    </section>
  </section>
</form>






<!-- MODALS -->
<!-- <form-settlement-tile ng-repeat="tile in st.protocolSettlementTiles.settlementTiles" settlement-tile="tile" save-function="" cancel-function="" index="{{$index}}"></form-settlement-tile> -->
