<form name="st.form.settlementTilesForm" ng-submit="st.save(st.form.settlementTilesForm.$valid)" novalidate>
  <section>
    <section class="content">
        <section class="container">
            <h2>Protocol 4 <small>Settlement Tiles</small></h2>
            <hr />
            <div class="row"><!--TODO: NEW! Wire up new fields -->
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Date and time of data collection</label>
                        <input type="datetime-local" class="form-control" />
                    </div>
                    <div class="form-group">
                        <!--TODO: Wire up to map modal -->
                        <a href="#" class="btn btn-default btn-block">Mark location on map</a>
                    </div>
                    <div class="form-group">
                        <label>Names of team members</label>
                        <input type="text" class="form-control" />
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="form-group">
                        <label>Notes or other observations</label>
                        <textarea class="form-control" rows="7"></textarea>
                    </div>
                </div>
            </div>
        </section>
    </section>
    <section class="content shaded">
        <section class="container">
            <div class="row">
                <div class="col-md-6">
                    <p class="lead red">Your group is responsible for recording the sessile organisms growing on each of the four settlement tiles.</p>
                </div>
                <div class="col-md-6">
                    <p>Use the 25-point grid system to locate and ID one organism at the center of each of the 25 cross-hatches (use the overlay diagram). This will result in a total of 25 organism ID entries.</p>
                    <p>When photographing the front surface of the tile, make sure the tile # is visible in the frame of the picture. If need be, clean the surface of the tile just around the # marker.</p>
                </div>
            </div>
        </section>
    </section>
    <section class="content shaded">
        <section class="container">
            <div class="row">
                <div class="col-md-3 col-sm-6" ng-repeat="tile in st.protocolSettlementTiles.settlementTiles">
                    <h4>
                      <i class="glyphicon glyphicon-check" ng-show="tile.done"></i>
                      <i class="glyphicon glyphicon-unchecked red" ng-hide="tile.done"></i>
                      Settlement Tile {{$index+1}}
                    </h4>
                    <div class="form-group">
                        <label>General tile description (condition, damage, sedimentation)</label>
                        <textarea rows="5" class="form-control" ng-model="tile.description" ng-blur="st.saveOnBlur()"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Tile photograph</label>
                        <single-image-drop-zone uploader="st.settlementTilePhotoUploaders[$index]"
                        image-url="tile.tilePhoto.path" image-alt="Settlement Tile #{{$index+1}} Photo"></single-image-drop-zone>
                    </div>
                    <!-- TODO: Each opens its own modal-->
                    <a class="btn btn-default btn-sm btn-block" data-target="#modal-settlementtile{{$index+1}}" ng-click="st.openSettlementTileForm($index+1)">Add Organism ID Entries</a>
                    <form-settlement-tile grids="st.grids" sessile-organisms="st.sessileOrganisms"
                    save-function="st.saveSettlementTileForm" cancel-function="st.cancelSettlementTileForm"
                    index="{{$index+1}}"></form-settlement-tile>
                    <!--TODO: Show this button instead if data is already added:
                    <a class="btn btn-default btn-sm btn-block" data-toggle="modal" data-target="#modal-settlementtile">Edit Organism ID Entries</a>-->
                </div>
            </div>
        </section>
    </section>
    <section class="content">
        <section class="container">
            <button type="submit" class="btn btn-primary">Next</button>
            <div ng-show="st.error" class="text-danger">
                <strong ng-bind="st.error"></strong>
            </div>
        </section>
    </section>
  </section>
</form>






<!-- MODALS -->
<!-- <form-settlement-tile ng-repeat="tile in st.protocolSettlementTiles.settlementTiles" settlement-tile="tile" save-function="" cancel-function="" index="{{$index}}"></form-settlement-tile> -->
