<section class="content shaded">
    <section class="container-fluid">
        <h2>Metrics</h2>
    </section>
</section>
<section class="content shaded content-unpadded" ng-controller="SettingsController">
    <section class="container-fluid">
        <a class="btn btn-default pull-right" ng-href="api/metrics/download" target="_blank"><i class="fa fa-download"></i> Download all</a>
        <ul class="nav nav-tabs">
            <li role="presentation" class="active">
                <a href="#people" data-toggle="tab" aria-controls="people" role="tab">People</a>
            </li>
            <li role="presentation">
                <a href="#curriculum" data-toggle="tab" aria-controls="curriculum" role="tab">Curriculum</a>
            </li>
            <li role="presentation">
                <a href="#stations" data-toggle="tab" aria-controls="stations" role="tab">Stations</a>
            </li>
            <li role="presentation">
                <a href="#events" data-toggle="tab" aria-controls="events" role="tab">Events</a>
            </li>
        </ul>
    </section>
</section>
<div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="people">
        <view-people-metrics></view-people-metrics>
    </div>
    <div role="tabpanel" class="tab-pane" id="curriculum">
        <view-curriculum-metrics></view-curriculum-metrics>
    </div>
    <div role="tabpanel" class="tab-pane" id="stations">
        <view-station-metrics></view-station-metrics>
    </div>
    <div role="tabpanel" class="tab-pane" id="events">
        <!--TODO:

        1) Content should be moved into a separate page (needs created):
        <view-event-metrics></view-event-metrics>

        2) Wire up (charts are just copied from other pages)
        -->


        <section class="content">
            <section class="container-fluid">
                <div class="row">
                    <div class="col-md-4 text-center">
                        <div class="row">
                            <div class="col-xs-6">
                                <h1 class="red">5 <i class="fa fa-calendar gray"></i></h1>
                                <h6>Future Events</h6>
                            </div>
                            <div class="col-xs-6">
                                <h1 class="red">5 <i class="fa fa-calendar-times-o gray"></i></h1>
                                <h6>Past Events</h6>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">
                                <h3 class="red">59% <i class="fa fa-users gray"></i></h3>
                                <h6>Capacity Rate</h6>
                                <small class="text-muted">Of the available registration spots, how many were filled?</small>
                            </div>
                            <div class="col-xs-6">
                                <h3 class="red">89% <i class="fa fa-check gray"></i></h3>
                                <h6>Attendance Rate</h6>
                                <small class="text-muted">Of those who registered, how many attended?</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h4>Timeline</h4><!-- Show how many events are scheduled per month by Event Date, past and future -->
                        <canvas id="line" class="chart chart-line" chart-data="monthlyCountLineData"
                            chart-labels="monthHistoryLabels" chart-legend="true" chart-series="monthlyCountLineLabels"
                            chart-click="vm.onClick()" >
                        </canvas>
                    </div>
                    <div class="col-md-4">
                        <h4>Event Type</h4> <!-- Show breakdown of types: ORS Basic Training, Advanced Field Training, Professional Development, Scientist Workshop, Other -->
                        <canvas id="pie" class="chart chart-pie" chart-data="metrics.lessonsPerUnitPieData"
                            chart-labels="metrics.lessonsPerUnitPieLabels" chart-legend="true">
                        </canvas>
                    </div>
                </div>
            </section>
        </section>

        <section class="content shaded">
          <section class="container-fluid">
              <div class="row">
                  <div class="col-md-12">
                      <!--TODO: Show top 10 events by filter (registrants as default) -- table copied from another page, replace with Event data -->
                      <nav class="navbar">
                          <h4 class="navbar-text">Top Events</h4>
                          <ul class="nav navbar-nav">
                              <!--TODO: New filter: default is to show top 10 events by number of registrants -->
                              <li class="dropdown">
                                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                      by Registrants <span class="caret"></span>
                                  </a>
                                  <ul class="dropdown-menu">
                                     <li><a>by Registrants</a></li>
                                     <li><a>by Attendees</a></li>
                                     <li><a>by Capacity Rate</a></li>
                                     <li><a>by Attendance Rate</a></li>
                                  </ul>
                              </li>
                              <!--TODO: This filter should be by year of Event Date (2016, 2017, etc) instead of by month (maybe eventually we'll switch once month is applicable) and also have an ALL option as default -->
                              <li class="dropdown">
                                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                      {{monthHistoryLabelsReversed[monthHistoryLabelsReversed.indexOf(userActivityFilter.month)].name}} <span class="caret"></span>
                                  </a>
                                  <ul class="dropdown-menu">
                                     <li ng-repeat="month in monthHistoryLabelsReversed">
                                       <a ng-click="userActivityMonthSelected(month)">
                                         {{month.name}}
                                       </a>
                                     </li>
                                  </ul>
                              </li>
                          </ul>
                      </nav>
                      <table class="table">
                          <tr>
                              <th>Event Name</th>
                              <th>Registrants</th>
                              <th>Attendees</th>
                              <th>Max Capacity</th>
                              <th>Capacity Rate</th>
                              <th>Attendance Rate</th>
                              <th>Event Date</th>
                              <th>Registration Deadline</th>
                          </tr>
                          <tr>
                              <td><b>Annual Conference</b></td>
                              <td><p class="text-muted"><b class="red">30</b> registrants</p></td>
                              <td><p class="text-muted"><b class="red">24</b> attendees</p></td>
                              <td><p class="text-muted"><b class="red">87</b> max capacity</p></td>
                              <td><p class="text-muted"><b class="red">56%</b> capacity</p></td>
                              <td><p class="text-muted"><b class="red">65%</b> attendance rate</p></td>
                              <td>Sept 25, 2016</td>
                              <td><b>5</b> days before event</td><!--TODO: If this is too hard to show, just show registration deadline date -->
                          </tr>
                      </table>
                  </div>
              </div>
          </section>
        </section>



    </div>
</div>
