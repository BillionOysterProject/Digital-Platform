<section class="content">
    <section class="container-fluid">
        <div class="row">
            <div class="col-md-4 text-center">
                <div class="row">
                    <div class="col-xs-6">
                        <h1 class="red">{{metrics.stationCounts.total}} <i class="glyphicon glyphicon-map-marker gray"></i></h1>
                        <h6>Oyster Restoration Stations</h6>
                    </div>
                    <div class="col-xs-6">
                        <!--TODO: Can we change this to just "Expeditions" and have a total count of all Expeditions (all statuses)? -->
                        <h1 class="red">{{metrics.expeditionCounts.published}} <i class="glyphicon glyphicon-flag gray"></i></h1>
                        <h6>Published Expeditions</h6>
                        
                        <!--
                        {{metrics.expeditionCounts.incomplete}}
                        {{metrics.expeditionCounts.pending}}
                        {{metrics.expeditionCounts.returned}}
                        {{metrics.expeditionCounts.unpublished}}
                        -->
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <h4>Timeline</h4>
                <canvas id="line" class="chart chart-line" chart-data="monthlyCountLineData"
                    chart-labels="monthHistoryLabels" chart-legend="true"
                    chart-series="monthlyCountLineLabels" chart-click="vm.onClick()" >
                </canvas>
            </div>
            <div class="col-md-4">
                <h4>ORS Status</h4>
                <canvas id="pie" class="chart chart-pie" chart-data="stationStatusPieData"
                    chart-labels="stationStatusPieLabels" chart-legend="true">
                </canvas>
                
                <!--
                {{metrics.stationCounts.lost}}
                {{metrics.stationCounts.active}} 
                -->
            </div>
        </div>
    </section>
</section>
<section class="content shaded">
    <section class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <h4>Most Visited ORS</h4>
                <table class="table">
                    <tr ng-repeat="visitData in metrics.stationVisitCounts | orderBy: '-expeditionCount'">
                        <td><p><i class="glyphicon glyphicon-map-marker"></i> <b>{{visitData.station.name}}</b></p></td>
                        <td><p class="text-muted"><b class="red">{{visitData.expeditionCount}}</b> expeditions</p></td>
                        <td><h6>{{visitData.station.latitude.toFixed(4)}}, {{visitData.station.longitude.toFixed(4)}}</h6></td>
                    </tr>
                </table>
            </div>
            <div class="col-md-3">
                <!--TODO: Can we remove "Null" from this list?-->
                <h4>Protocol Status</h4>
                <canvas id="pie" class="chart chart-pie" chart-data="protocolStatusPieData"
                    chart-labels="protocolStatusPieLabels" chart-legend="true">
                </canvas>
            </div>
            <div class="col-md-3">
                <!--TODO: This should be the Expeditions statuses (Incomplete, Pending, Returned, Published, Unpublished -- or if easier, just Published and Unpublished (anything in other statuses than Published) -->
                <h4>Expedition Status</h4>
                <canvas id="pie" class="chart chart-pie" chart-data="expeditionStatusPieData"
                    chart-labels="expeditionStatusPieLabels" chart-legend="true">
                </canvas>
            </div>
        </div>
    </section>
</section>
